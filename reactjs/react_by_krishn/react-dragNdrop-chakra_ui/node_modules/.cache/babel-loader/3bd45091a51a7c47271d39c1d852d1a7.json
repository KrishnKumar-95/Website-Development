{"ast":null,"code":"export class DragSourceImpl {\n  beginDrag() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    let result = null;\n\n    if (typeof spec.item === 'object') {\n      result = spec.item;\n    } else if (typeof spec.item === 'function') {\n      result = spec.item(monitor);\n    } else {\n      result = {};\n    }\n\n    return result !== null && result !== void 0 ? result : null;\n  }\n\n  canDrag() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n\n    if (typeof spec.canDrag === 'boolean') {\n      return spec.canDrag;\n    } else if (typeof spec.canDrag === 'function') {\n      return spec.canDrag(monitor);\n    } else {\n      return true;\n    }\n  }\n\n  isDragging(globalMonitor, target) {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    const {\n      isDragging\n    } = spec;\n    return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n  }\n\n  endDrag() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    const connector = this.connector;\n    const {\n      end\n    } = spec;\n\n    if (end) {\n      end(monitor.getItem(), monitor);\n    }\n\n    connector.reconnect();\n  }\n\n  constructor(spec, monitor, connector) {\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n}","map":{"version":3,"sources":["/home/ubkrishn/Desktop/Website Development/reactjs/react_by_krishn/react-dragNdrop-chakra_ui/node_modules/react-dnd/src/hooks/useDrag/DragSourceImpl.ts"],"names":["DragSourceImpl","spec","monitor","connector","beginDrag","result","item","canDrag","isDragging","globalMonitor","target","getSourceId","endDrag","end","getItem","reconnect"],"mappings":"AAKA,OAAM,MAAOA,cAAP,CAAqB;AAOnBI,EAAAA,SAAS,GAAG;AAClB,UAAMH,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;AAEA,QAAIG,MAAM,GAAa,IAAvB;;AACA,QAAI,OAAOJ,IAAI,CAACK,IAAZ,KAAqB,QAAzB,EAAmC;AAClCD,MAAAA,MAAM,GAAGJ,IAAI,CAACK,IAAdD;AACA,KAFD,MAEO,IAAI,OAAOJ,IAAI,CAACK,IAAZ,KAAqB,UAAzB,EAAqC;AAC3CD,MAAAA,MAAM,GAAIJ,IAAI,CAACK,IAALL,CAAmCC,OAAnCD,CAAVI;AACA,KAFM,MAEA;AACNA,MAAAA,MAAM,GAAG,EAATA;AACA;;AACD,WAAOA,MAAM,KAAA,IAANA,IAAAA,MAAM,KAAA,KAAA,CAANA,GAAAA,MAAAA,GAAU,IAAjB;AACA;;AAEME,EAAAA,OAAO,GAAG;AAChB,UAAMN,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;;AACA,QAAI,OAAOD,IAAI,CAACM,OAAZ,KAAwB,SAA5B,EAAuC;AACtC,aAAON,IAAI,CAACM,OAAZ;AACA,KAFD,MAEO,IAAI,OAAON,IAAI,CAACM,OAAZ,KAAwB,UAA5B,EAAwC;AAC9C,aAAON,IAAI,CAACM,OAALN,CAAaC,OAAbD,CAAP;AACA,KAFM,MAEA;AACN,aAAO,IAAP;AACA;AACD;;AAEMO,EAAAA,UAAU,CAACC,aAAD,EAAiCC,MAAjC,EAAqD;AACrE,UAAMT,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;AACA,UAAM;AAAEM,MAAAA;AAAF,QAAiBP,IAAvB;AACA,WAAOO,UAAU,GACdA,UAAU,CAACN,OAAD,CADI,GAEdQ,MAAM,KAAKD,aAAa,CAACE,WAAdF,EAFd;AAGA;;AAEMG,EAAAA,OAAO,GAAG;AAChB,UAAMX,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;AACA,UAAMC,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAM;AAAEU,MAAAA;AAAF,QAAUZ,IAAhB;;AACA,QAAIY,GAAJ,EAAS;AACRA,MAAAA,GAAG,CAACX,OAAO,CAACY,OAARZ,EAAD,EAAoBA,OAApB,CAAHW;AACA;;AACDV,IAAAA,SAAS,CAACY,SAAVZ;AACA;;cAlDOF,I,EACCC,O,EACAC,S,EACP;SAHMF,I,GAAAA,I;SACCC,O,GAAAA,O;SACAC,S,GAAAA,S;AACL;;AALsB","sourcesContent":["import type { DragDropMonitor, DragSource, Identifier } from 'dnd-core'\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragObjectFactory, DragSourceHookSpec } from '../types.js'\n\nexport class DragSourceImpl<O, R, P> implements DragSource {\n\tpublic constructor(\n\t\tpublic spec: DragSourceHookSpec<O, R, P>,\n\t\tprivate monitor: DragSourceMonitor<O, R>,\n\t\tprivate connector: Connector,\n\t) {}\n\n\tpublic beginDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\n\t\tlet result: O | null = null\n\t\tif (typeof spec.item === 'object') {\n\t\t\tresult = spec.item as O\n\t\t} else if (typeof spec.item === 'function') {\n\t\t\tresult = (spec.item as DragObjectFactory<O>)(monitor)\n\t\t} else {\n\t\t\tresult = {} as O\n\t\t}\n\t\treturn result ?? null\n\t}\n\n\tpublic canDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (typeof spec.canDrag === 'boolean') {\n\t\t\treturn spec.canDrag\n\t\t} else if (typeof spec.canDrag === 'function') {\n\t\t\treturn spec.canDrag(monitor)\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tpublic isDragging(globalMonitor: DragDropMonitor, target: Identifier) {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst { isDragging } = spec\n\t\treturn isDragging\n\t\t\t? isDragging(monitor)\n\t\t\t: target === globalMonitor.getSourceId()\n\t}\n\n\tpublic endDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst connector = this.connector\n\t\tconst { end } = spec\n\t\tif (end) {\n\t\t\tend(monitor.getItem(), monitor)\n\t\t}\n\t\tconnector.reconnect()\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}